%
% 6.006 problem set 1 solutions template
%
\documentclass[12pt,twoside]{article}

\input{macros-sp20}
\newcommand{\theproblemsetnum}{1}

\title{6.006 Problem Set 1}

\begin{document}

\handout{Problem Set \theproblemsetnum}

\setlength{\parindent}{0pt}
\medskip\hrulefill\medskip

{\bf Name:} Kim Heesuk

\medskip\hrulefill

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% See below for common and useful latex constructs. %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Some useful commands:
%$f(x) = \Theta(x)$
%$T(x, y) \leq \log(x) + 2^y + \binom{2n}{n}$
% {\tt code\_function}


% You can create unnumbered lists as follows:
%\begin{itemize}
%    \item First item in a list
%        \begin{itemize}
%            \item First item in a list
%                \begin{itemize}
%                    \item First item in a list
%                    \item Second item in a list
%                \end{itemize}
%            \item Second item in a list
%        \end{itemize}
%    \item Second item in a list
%\end{itemize}

% You can create numbered lists as follows:
%\begin{enumerate}
%    \item First item in a list
%    \item Second item in a list
%    \item Third item in a list
%\end{enumerate}

% You can write aligned equations as follows:
%\begin{align}
%    \begin{split}
%        (x+y)^3 &= (x+y)^2(x+y) \\
%                &= (x^2+2xy+y^2)(x+y) \\
%                &= (x^3+2x^2y+xy^2) + (x^2y+2xy^2+y^3) \\
%                &= x^3+3x^2y+3xy^2+y^3
%    \end{split}
%\end{align}

% You can create grids/matrices as follows:
%\begin{align}
%    A =
%    \begin{bmatrix}
%        A_{11} & A_{21} \\
%        A_{21} & A_{22}
%    \end{bmatrix}
%\end{align}

% You can include images and PDFs as follows:
% \includegraphics[width=0.5\textwidth]{img.jpg}

\begin{problems}

\problem  % Problem 1

\begin{problemparts}
  \problempart % Problem 1a
  $f_1 = \log{n^n} = n\log{n} \in O(f_2)$,
  $f_3 = \log{n^{6006}} = 6006\log{n} \in \Theta(\log{n})$. So that
  $f_3 \in O(f_1)$. Meanwhile $f_4 \in O(f_2)$, and $f_5 \in O(f_3)$, the
  answer is $(f_5, f_3, f_1, f_4, f_2)$.

  \problempart % Problem 1b
  $f_2 \in O(f_5)$ and $f_5 \in O(f_4)$. Also $f_1 \in O(f_2)$,
  $f_5 \in O(f_3)$.
  For $f_3$ and $f_4$,
  \begin{align}
    \begin{split}
      \log\frac{f_3}{f_4} &= \log\frac{2^{6006^n}}{6006^{2^n}} \\
                          &= 6006^n\log 2 - 2^n\log 6006 \\
                          &= 2^n(3003^n\log 2 - \log 6006) \rightarrow\infty
    \end{split}
  \end{align}
  $f_4\in O(f_3)$ and the answer is $(f_1, f_2, f_5, f_4, f_3)$.
  
  \problempart % Problem 1c
  Firstly,
  \begin{align}
    \begin{split}
      f_2 = \choose{n}{n-6} &= \frac{n!}{6!(n-6)!} \\
                            &\in \Theta\left(n(n-1)\dots (n-\5)\right) \\
                            &= \Theta(n^6),
    \end{split}
  \end{align}
  so $f_5 = n^6 \in\Theta(f_2)$. For $f_4$, by the Stirling's approximation,
  \begin{align}
    \begin{split}
      \log f_4 = \log\choose{n}{n/6} &= \log\frac{n!}{(n/6)!(5n/6)!} \\
                                     &\sim\log\frac{\sqrt{2\pi n}(n/e)^n}{\sqrt{2\pi n}(n/6e)^{n/6}\sqrt{2\pi n}(5n/6e)^{5n/6}} \\
                                     &= \log\frac{(6/5^{5/6})^n}{\sqrt{2\pi n}} \\
                                     &\in \Theta\left(n\log(6/5^{5/6}) - \frac{1}{2}(\log n + \log 2\pi)\right) = \Theta(n).
    \end{split}
  \end{align}
  since $6/5^{5/6} > 1$. Hence $f_2 (\in \Theta(f_5)) \in O(f_4)$,
  $f_4 \in O(f_1)$ since
  $f_4 \in\left\{2^p|p\in\Theta(n)\right\}\subset\Omega(n^6)$ and
  $\log f_1 \in \Theta(n\log n)$.  Also by the Stirling's
  approximation,
  \begin{align}
    \begin{split}
    f_3 = (6n)! &\sim \sqrt{12\pi n}(6n/e)^{6n} \\
                &\in \Theta((6n)^{6n}) \subset\Omega(n^n) = \Omega(f_1).
    \end{split}
  \end{align}
  Thus the answer is $(\{f_2, f_5\}, f_4, f_1, f_3)$.

  \problempart % Problem 1d
  Using the Stirling's approximation,
  $f_1 \sim n^{n+4} + \sqrt{2\pi n}(n/e)^n \in\Theta(n^{n+4})$.
  Also considering $f_5/n^{12} = n^{1/n}\rightarrow 1$,
  $f_5 = n^{12+1/n}\sim n^{12}\in\Theta(n^{12})$.
  It is obvious that $f_2=n^{7\sqrt{n}}\in O(n^{n+4}) = O(f_1)$ and $f_3 = 4^{3n\log n} \in O(7^{n^2}) = O(f_4)$.
  Finally for $f_3$ and $n^{n+4} \in\Omega(f_1)$,
  \begin{align}
    \begin{split}
      \log\frac{f_3}{n^{n+4}} &= \log\frac{4^{3n\log n}}{n^{n+4}} \\
                              &= 3n\log n \cdot\log 4 - (n+4)\log n \\
                              &= ((3\log 4 - 1)n - 4)\log n \rightarrow\infty,
    \end{split}
  \end{align}
  $f_3 \in O(n^{n+4}) = O(f_1)$. The order should be $(f_5, f_2, f_1, f_3, f_4)$.
  
\end{problemparts}

\newpage
\problem  % Problem 2

\begin{problemparts}
  \problempart % Problem 2a
  $T(k) = O(\log n) + T(k - 1)$, $T(k) = O(k\log n)$
  \begin{lstlisting}
    def reverse(D, i, k): # T(k)
      if k < 2:
        return
      D.insert_at(i + k - 1, D.delete_at(i))     # O(log(n))
      reverse(D, i, k - 1)                       # T(k - 1)
  \end{lstlisting}
  If we call \texttt{reverse(D, i, 1)}, it returns and it is correct.
  Assume \texttt{reverse(D, i, k)} works right, \texttt{reverse(D, i,
    k + 1)} should work right because it deletes element of $i$'th
  index, and insert it to $i + k$ (next to the pre-deletion index
  $i + k$) and reverses $k$ items starting at index $i$ of \texttt{D},
  which resulting reverse $k+1$ items starting at index $i$.
  
  \problempart % Problem 2b
  $T(k) = O(\log n) + O(\log n) + T(k-1)$, $T(k) = O(k\log n)$
  
  \begin{lstlisting}
    def move(D, i, k, j):          #T(k)
      if k < 1:
        return
      temp = D.delete_at(i)        # O(log(n))
      if j < i:
        D.insert_at(j + 1, temp)   # O(log(n))
      else:
        D.insert_at(j, temp)       # O(log(n))
      move(D, i, k - 1, j)         # T(k-1)
  \end{lstlisting}
    
  Note that when $j\geq i + k$ (which can be just $\neg(j < i)$ since
  $i\leq j < i+k$ is false), \texttt{D.delete\_at(i)} makes
  the index of element with pre-deletion index $j$ be $j-1$.
  
\end{problemparts}

\newpage
\problem % Problem 3
\texttt{build(X)} constructs a static array with size $|\texttt{X}|$
and store pages in that array. Also, it initializes some fields to
provide operations for bookmarks.

\begin{itemize}
  \item \texttt{A} index of page placed on in front of bookmark $A$
  \item \texttt{B} index of page placed on in front of bookmark $B$
  \item \texttt{array\_front}
  \item \texttt{array\_behind}
  \item \texttt{array\_index} index of page of \texttt{array\_behind[0]}
\end{itemize}

Pages between the bookmarks will be stored in separate arrays
\texttt{array\_front} and \texttt{array\_behind} on which
\texttt{place\_mark(i, m)} called.

When there is no bookmark placed, \texttt{place\_mark(i, m)} just set
field \texttt{m} to \texttt{i}. There are three possible cases left.

\begin{enumerate}
   \item One bookmark is placed and call \texttt{place\_mark(i, m)} for that bookmark
   \item One bookmark is placed and call \texttt{place\_mark(i, m)} for other bookmark
   \item All bookmarks are placed
\end{enumerate}

For each cases, setting \texttt{m} to \texttt{i} is trivial.

For second case, lets assume $\texttt{B} > \texttt{A}$. Set
\texttt{array\_index} to \texttt{(A + B)/2} and construct dynamic
array with size $2 * (\texttt{B} - \texttt{array\_index})$ for
\texttt{array\_behind}, and move page from index \texttt{array\_index}
to \texttt{B} here. For \texttt{array\_front}, do same thing with size
$2 * (\texttt{array\_index} - \texttt{A})$. If
$\texttt{B} = \texttt{A}$, construct two empty dynamic arrays for
$\texttt{A} = \texttt{B} = \texttt{array\_index}$ with certain fixed
size. This is needed to operate \texttt{shift\_mark} correctly.

For third case, if such of a operation expands \texttt{array\_front}
or \texttt{array\_behind}, if size of an array does not exceed the
capacity of array, it could be just moving the elements. Else, each
dynamic array can be expanded with twice of previous capacity. If it
reduces but does not cross the \texttt{array\_index} on either side,
just setting \texttt{m} to \texttt{i} is sufficient. If it crosses,
reallocate \texttt{array\_front} and \texttt{array\_behind} with same
method for second case with new
$\texttt{array\_index} = \texttt{(A + B)/2}$.

Time complexitiy is $O(n)$ in worst case.



\newpage
\problem  % Problem 4

\begin{problemparts}
\problempart % Problem 4a
\problempart % Problem 4b
\problempart % Problem 4c
\problempart Submit your implementation to {\small\url{alg.mit.edu}}.
\end{problemparts}

\end{problems}

\end{document}
